<p id="notice"><%= notice %></p>

<p>
  <strong>User:</strong>
  <%= @join_listing.user_id %>
</p>

<p>
  <strong>Item:</strong>
  <%= @join_listing.item_id %>
</p>

<p>
  <strong>Selling:</strong>
  <%= @join_listing.selling %>
</p>

<p>
  <strong>Amount min:</strong>
  <%= @join_listing.amount_min %>
</p>

<p>
  <strong>Amount max:</strong>
  <%= @join_listing.amount_max %>
</p>

<p>
  <strong>Start date:</strong>
  <%= @join_listing.start_date %>
</p>

<p>
  <strong>End date:</strong>
  <%= @join_listing.end_date %>
</p>

<h1>Host Listings</h1>

<table>
  <thead>
    <tr>
      <th>User</th>
      <th>Item</th>
      <th>Selling</th>
      <th>Amount</th>
      <th>Start date</th>
      <th>End date</th>
      <th>Max users</th>
      <th>Allowed users</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @join_listing.host_listings.each do |host_listing| %>
      <tr>
        <td><%= host_listing.user_id %></td>
        <td><%= host_listing.item_id %></td>
        <td><%= host_listing.selling %></td>
        <td><%= host_listing.amount %></td>
        <td><%= host_listing.start_date %></td>
        <td><%= host_listing.end_date %></td>
        <td><%= "#{host_listing.total_join_listings_in_queue.count} / #{host_listing.max_users}" %></td>
        <td><%= "#{host_listing.currently_on_island.size} / #{host_listing.allowed_users}" %></td>
        <td><%= link_to 'Show', host_listing %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= link_to 'Edit', edit_join_listing_path(@join_listing) %> |
<%= link_to 'Back', join_listings_path %>
